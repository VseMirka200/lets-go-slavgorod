package com.example.lets_go_slavgorod.ui.utils

/**
 * Утилиты для форматирования текста в UI
 * 
 * Содержит вспомогательные функции для корректного склонения русских слов
 * и форматирования текстовых данных в интерфейсе.
 * 
 * Основные функции:
 * - Склонение русских числительных
 * - Форматирование временных меток
 * - Вспомогательные функции для текстов
 * 
 * @author VseMirka200
 * @version 1.0
 * @since 3.0
 */
object TextFormattingUtils {
    
    /**
     * Склонение слова "время" для русского языка
     * 
     * Возвращает правильную форму слова "время" в зависимости от числа.
     * 
     * Примеры:
     * - 1 время
     * - 2 времени
     * - 5 времен
     * - 11 времен
     * - 21 время
     * 
     * @param count количество времен
     * @return правильная форма: "время", "времени" или "времен"
     */
    fun getTimesWord(count: Int): String {
        return when {
            count % 10 == 1 && count % 100 != 11 -> "время"
            count % 10 in 2..4 && (count % 100 < 10 || count % 100 >= 20) -> "времени"
            else -> "времен"
        }
    }
    
    /**
     * Склонение слова "маршрут" для русского языка
     * 
     * @param count количество маршрутов
     * @return правильная форма: "маршрут", "маршрута" или "маршрутов"
     */
    fun getRoutesWord(count: Int): String {
        return when {
            count % 10 == 1 && count % 100 != 11 -> "маршрут"
            count % 10 in 2..4 && (count % 100 < 10 || count % 100 >= 20) -> "маршрута"
            else -> "маршрутов"
        }
    }
    
    /**
     * Склонение слова "минута" для русского языка
     * 
     * @param count количество минут
     * @return правильная форма: "минута", "минуты" или "минут"
     */
    fun getMinutesWord(count: Int): String {
        return when {
            count % 10 == 1 && count % 100 != 11 -> "минута"
            count % 10 in 2..4 && (count % 100 < 10 || count % 100 >= 20) -> "минуты"
            else -> "минут"
        }
    }
    
    /**
     * Склонение слова "рейс" для русского языка
     * 
     * @param count количество рейсов
     * @return правильная форма: "рейс", "рейса" или "рейсов"
     */
    fun getFlightsWord(count: Int): String {
        return when {
            count % 10 == 1 && count % 100 != 11 -> "рейс"
            count % 10 in 2..4 && (count % 100 < 10 || count % 100 >= 20) -> "рейса"
            else -> "рейсов"
        }
    }
    
    /**
     * Форматирует текст счетчика с правильным склонением
     * 
     * Пример: formatCounter(5, "маршрут", "маршрута", "маршрутов") вернет "5 маршрутов"
     * 
     * @param count количество элементов
     * @param one форма для 1 (один маршрут)
     * @param few форма для 2-4 (два маршрута)
     * @param many форма для 5+ (пять маршрутов)
     * @return отформатированная строка с числом и правильной формой слова
     */
    fun formatCounter(count: Int, one: String, few: String, many: String): String {
        val word = when {
            count % 10 == 1 && count % 100 != 11 -> one
            count % 10 in 2..4 && (count % 100 < 10 || count % 100 >= 20) -> few
            else -> many
        }
        return "$count $word"
    }
}

